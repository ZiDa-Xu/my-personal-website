
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小许的个人网站</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <a href="index.html">首页</a>
        <a href="tuijian.html">精品收藏</a>
        <a href="quote.html">每日元气</a>
        <a href="#" id="guestbook-button">留言板</a>
        <a href="#" id="contact-button">联系我</a>
    </div>
    <div class="content">
        <div class="welcome-text">
            <h1>⭐今天也要开心鸭(●ˇ∀ˇ●)⭐</h1>
        </div>
    </div>
    <footer>
        <p>© 2024 小许的个人网站</p>
    </footer>

    <div id="guestbook-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>留言板</h2>
            <form id="guestbook-form">
                <input type="text" id="guest-name" placeholder="姓名" required><br>
                <textarea id="guest-message" placeholder="留言内容" required></textarea><br>
                <button type="submit">提交留言</button>
            </form>
            <div id="guestbook-entries"></div>
        </div>
    </div>

    <div id="contact-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <img class="qrcode" src="weixin_qrcode.jpg" alt="WeChat QR Code">
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const contactButton = document.getElementById('contact-button');
            const guestbookButton = document.getElementById('guestbook-button');
            const contactModal = document.getElementById('contact-modal');
            const guestbookModal = document.getElementById('guestbook-modal');
            const closeButtons = document.querySelectorAll('.close-button');

            contactButton.addEventListener('click', () => {
                contactModal.style.display = 'block';
            });

            guestbookButton.addEventListener('click', () => {
                guestbookModal.style.display = 'block';
            });

            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    button.closest('.modal').style.display = 'none';
                });
            });

            window.addEventListener('click', (event) => {
                if (event.target === contactModal) {
                    contactModal.style.display = 'none';
                } else if (event.target === guestbookModal) {
                    guestbookModal.style.display = 'none';
                }
            });

            const guestbookForm = document.getElementById('guestbook-form');
            const guestbookEntries = document.getElementById('guestbook-entries');

            guestbookForm.addEventListener('submit', function (e) {
                e.preventDefault();

                const name = document.getElementById('guest-name').value;
                const message = document.getElementById('guest-message').value;

                const entry = {
                    name: name,
                    message: message,
                    timestamp: new Date().toLocaleString()
                };

                let entries = JSON.parse(localStorage.getItem('guestbookEntries')) || [];
                entries.push(entry);
                localStorage.setItem('guestbookEntries', JSON.stringify(entries));

                displayEntries();
                guestbookForm.reset();
            });

            function displayEntries() {
                guestbookEntries.innerHTML = '';
                const entries = JSON.parse(localStorage.getItem('guestbookEntries')) || [];
                entries.forEach((entry) => {
                    const entryDiv = document.createElement('div');
                    entryDiv.className = 'guestbook-entry';
                    entryDiv.innerHTML = `<p><strong>${entry.name}</strong> (${entry.timestamp}):</p><p>${entry.message}</p>`;
                    guestbookEntries.appendChild(entryDiv);
                });
            }

            displayEntries();
        });
    </script>
</body>
</html>
